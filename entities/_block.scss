$mk-block__img-sizes: (
  "smaller": 256px,
  "small": 426px,
  "medium": 640px,
  "large": 768px,
  "larger": 800px,
  "x-larger": 848px,
  "xx-larger": 896px,
  "xxx-larger": 960px,
  "banner": 1024px,
);

@function isFontFamilyExisting($fontFamily) {
  @if $fontFamily {
    @return $fontFamily;
  }
  @return $mk-block-font-family;
}

// Calculate img ratio from width
@mixin mk-block-img-size-ratio($size, $ratioNum, $ratioDen) {
  @each $name, $size in $mk-block__img-sizes {
    &__img.--size-#{$name}.--ratio-#{$ratioNum}-#{$ratioDen} {
      height: calc($size / ($ratioNum / $ratioDen));
      width: $size;
      img {
        object-fit: cover;
        width: 100%;
        height: 100%;
      }
    }
  }
}

.mk-block {
  display: flex;
  flex-direction: column;
  font-family: isFontFamilyExisting($mk-block-font-family);
  width: 100%;
  gap: $mk-block-gap;
  &__text {
    width: 100%;
    margin: $mk-block__text-margin;
    padding: $mk-block__text-padding;
    font-family: isFontFamilyExisting($mk-block__text-font-family);
  }
  &__title {
    width: 100%;
    margin: $mk-block__title-margin;
    padding: $mk-block__title-padding;
    font-family: isFontFamilyExisting($mk-block__title-font-family);
  }
  &__subtitle {
    width: 100%;
    margin: $mk-block__subtitle-margin;
    padding: $mk-block__subtitle-padding;
    font-family: isFontFamilyExisting($mk-block__subtitle-font-family);
  }

  &__img {
    @if $mk-block__self-flex-position {
      @include mk-self-flex-position($mk-block__self-flex-position);
    }
    padding: $mk-block__img-padding;
    margin: $mk-block__img-padding;
    img {
      object-fit: cover;
      width: 100%;
      height: 100%;
    }
  }

  @each $name, $size in $mk-block__img-sizes {
    .--size-#{$name} {
      height: $size;
      width: $size;
      max-width: 100%;
    }
  }
  @include mk-block-img-size-ratio($mk-block__img-sizes, 16, 9);
  @include mk-block-img-size-ratio($mk-block__img-sizes, 4, 3);
  @include mk-block-img-size-ratio($mk-block__img-sizes, 5, 3);
}
